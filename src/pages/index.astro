---
import Layout from "../layouts/Layout.astro";
import ProductCard from "../components/home/ProductCard.astro";
import Reviews from "../components/home/Reviews.astro";

const products = [
	{
		name: "La margherita",
		description: "Sauce tomate, mozzarella, basilic frais",
		price: 12.99
	},
	{
		name: "La margherita",
		description: "Sauce tomate, mozzarella, basilic frais",
		price: 12.99
	},
	{
		name: "La margherita",
		description: "Sauce tomate, mozzarella, basilic frais",
		price: 12.99
	},
	{
		name: "La margherita",
		description: "Sauce tomate, mozzarella, basilic frais",
		price: 12.99
	},
	{
		name: "La margherita",
		description: "Sauce tomate, mozzarella, basilic frais",
		price: 12.99
	},
];

---

<Layout title="Accueil">

	<section class="section space-y-12" id="header">
		<div>
			<h1 class="md:text-7xl text-5xl font-semibold tracking-tighter mb-4">Naples à votre porte</h1>
			<div class="flex flex-col xl:flex-row gap-6">
				<div class="xl:w-1/2">		
					<p class="text-gray-700 md:text-xl text-lg max-w-prose leading-relaxed">D'authentiques pizzas napolitaines cuites au feu de bois dans le plus grand respect des traditions.</p>
				</div>
				<div class="flex md:gap-4 gap-2 xl:w-1/2 xl:items-center xl:justify-center flex-col md:flex-row">
					<a href="/" class="button">Notre carte</a>			
					<a href="/" class="button button-primary">Commander en ligne</a>
				</div>
			</div>
		</div>
		<div class="header_image w-full">
			<img src="/images/pizza-oven.avif" class="h-[70vh] w-full object-cover rounded-lg" />
		</div>
	</section>

	<section class="section mt-48 bg-red-100">
		<div class="flex items-center py-6">
			<div class="flex lg:gap-16 gap-2 max-w-full flex-col lg:flex-row">
				<div class="lg:w-1/4">
					<h2 class="text-4xl font-semibold tracking-tighter text-balance mb-4">Notre séléction de pizzas</h2>
					<div class="hidden md:block">
						<a href="/" class="button">Notre carte</a>
					</div>
				</div>
				<div class="lg:w-3/4 w-full">
					<div id="keen-slider" class="keen-slider">
						{products.map(product => (
							<div class="keen-slider__slide">
								<ProductCard {...product} />
							</div>
						))}
						<div class="keen-slider__slide">
							<div class="p-4 rounded-md h-96 flex flex-col gap-4 justify-center items-center border-2 bg-white border-red-700 text-red-700 shadow">
								<p class="font-semibold text-2xl text-center">Et bien plus encore!</p>
								<a href="/" class="button button-primary">Notre carte</a>
							</div>
						</div>
					</div>
					<div class="md:hidden mt-8">
						<a href="/" class="button w-full">Voir notre carte</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="section mt-48">
		<h2 class="md:text-5xl text-3xl font-semibold tracking-tighter text-balance leading-tight mb-4 text-center">Laissez-vous séduire par la véritable pizza napolitaine, préparée avec passion et servie avec le sourire. <span class="text-red-700">Buon appetito !</span></h2>
	</section>

	<section class="section flex gap-2 mt-48">
		<img src="/images/pizza02.avif" class="md:h-[40rem] h-[20rem] w-1/3 object-cover rounded-tl-lg rounded-bl-lg"/>
		<img src="/images/pizza03.avif" class="md:h-[40rem] h-[20rem] w-1/3 object-cover"/>
		<img src="/images/pizza04.avif" class="md:h-[40rem] h-[20rem] w-1/3 object-cover rounded-tr-lg rounded-br-lg"/>
	</section>

	<section class="section mt-48">
		<Reviews />
	</section>

</Layout>


<script type="module">
	import KeenSlider from 'https://cdn.jsdelivr.net/npm/keen-slider@6.8.6/+esm'
  
	const keenSlider = new KeenSlider(
	  '#keen-slider',
	  {
		loop: false,
		slides: {
		  origin: 'auto',
		  perView: 1.25,
		  spacing: 16,
		},
		breakpoints: {
		  '(min-width: 640px)': {
			slides: {
			  origin: 'auto',
			  perView: 2.5,
			  spacing: 16,
			},
		  },
		  '(min-width: 1536px)': {
			slides: {
			  origin: 'auto',
			  perView: 3.5,
			  spacing: 16,
			},
		  },
		},
	  },
	  []
	);
  
	const keenSliderPrevious = document.getElementById('keen-slider-previous')
	const keenSliderNext = document.getElementById('keen-slider-next')
  
	const keenSliderPreviousDesktop = document.getElementById('keen-slider-previous-desktop')
	const keenSliderNextDesktop = document.getElementById('keen-slider-next-desktop')
</script>
  
<style>
.header_image {
  display: inline-block;
  position: relative;
  line-height: 0;
  background: #ffffff;
}
.header_image::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  mix-blend-mode: darken;
  background: #7d0000;
  opacity: 0.1;
}
.header_image > img {
  -webkit-filter:  brightness(90%) contrast(125%) grayscale(100%) hue-rotate(0deg) invert(0%) opacity(100%) saturate(100%) sepia(50%);
          filter:  brightness(90%) contrast(125%) grayscale(100%) hue-rotate(0deg) invert(0%) opacity(100%) saturate(100%) sepia(50%);
  mix-blend-mode: none;
}

.section {
	@apply lg:p-24 md:p-12 p-8
}
</style>